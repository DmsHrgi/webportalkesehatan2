{% extends "base.html" %} {% block title %}Register - Healthcare Portal{%
endblock %} {% block content %}
<div
	class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl p-6"
>
	<h1 class="text-2xl font-bold text-center mb-6">Create Your Account</h1>

	<form method="POST" class="space-y-4">
		<!-- Basic Information -->
		<div class="card">
			<h2 class="text-xl font-semibold mb-4">Account Information</h2>
			<div class="mb-4">
				<label for="email" class="block text-sm font-medium text-gray-700 mb-1"
					>Email Address</label
				>
				<input
					type="email"
					id="email"
					name="email"
					required
					class="form-input"
					placeholder="you@example.com"
				/>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
				<div>
					<label
						for="password"
						class="block text-sm font-medium text-gray-700 mb-1"
						>Password</label
					>
					<input
						type="password"
						id="password"
						name="password"
						required
						class="form-input"
						placeholder="••••••••"
					/>
				</div>
				<div>
					<label
						for="confirm_password"
						class="block text-sm font-medium text-gray-700 mb-1"
						>Confirm Password</label
					>
					<input
						type="password"
						id="confirm_password"
						name="confirm_password"
						required
						class="form-input"
						placeholder="••••••••"
					/>
				</div>
			</div>
		</div>

		<!-- Personal Information -->
		<div class="card">
			<h2 class="text-xl font-semibold mb-4">Personal Information</h2>

			<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
				<div>
					<label
						for="age_group"
						class="block text-sm font-medium text-gray-700 mb-1"
						>Age Group</label
					>
					<select id="age_group" name="age_group" required class="form-select">
						<option value="" disabled selected>Select your age group</option>
						<option value="18-34">18-34 years</option>
						<option value="35-49">35-49 years</option>
						<option value="50-64">50-64 years</option>
						<option value="65-74">65-74 years</option>
						<option value="≥75">75+ years</option>
					</select>
				</div>

				<div>
					<label class="block text-sm font-medium text-gray-700 mb-1"
						>Biological Sex</label
					>
					<div class="mt-1 space-x-4">
						<label class="inline-flex items-center">
							<input
								type="radio"
								name="birth_sex"
								value="Male"
								class="form-radio"
								required
							/>
							<span class="ml-2">Male</span>
						</label>
						<label class="inline-flex items-center">
							<input
								type="radio"
								name="birth_sex"
								value="Female"
								class="form-radio"
							/>
							<span class="ml-2">Female</span>
						</label>
					</div>
				</div>
			</div>
		</div>

		<!-- Health Literacy -->
		<div class="card">
			<h2 class="text-xl font-semibold mb-4">Health Literacy Assessment</h2>

			<div class="mb-4">
				<label
					for="numeracy_score"
					class="block text-sm font-medium text-gray-700 mb-1"
				>
					How easy is it for you to understand medical statistics or study
					results?
				</label>
				<select
					id="numeracy_score"
					name="numeracy_score"
					required
					class="form-select"
				>
					<option value="" disabled selected>Select an option</option>
					<option value="Very easy">Very easy</option>
					<option value="Easy">Easy</option>
					<option value="Hard">Hard</option>
				</select>
			</div>

			<div class="mb-4">
				<label
					for="health_literacy_level"
					class="block text-sm font-medium text-gray-700 mb-1"
				>
					How would you rate your health literacy level?
				</label>
				<select
					id="health_literacy_level"
					name="health_literacy_level"
					required
					class="form-select"
				>
					<option value="" disabled selected>Select your level</option>
					<option value="High">
						High - I understand most medical information
					</option>
					<option value="Medium">
						Medium - I understand some medical information
					</option>
					<option value="Low">
						Low - I find medical information difficult to understand
					</option>
				</select>
			</div>

			<div>
				<label
					for="preferred_access_mode"
					class="block text-sm font-medium text-gray-700 mb-1"
				>
					How do you prefer to access your health information?
				</label>
				<select
					id="preferred_access_mode"
					name="preferred_access_mode"
					required
					class="form-select"
				>
					<option value="" disabled selected>Select preferred access</option>
					<option value="Website only">Website only</option>
					<option value="App only">Mobile App only</option>
					<option value="Both">Both Website and Mobile App</option>
				</select>
			</div>
		</div>

		<!-- Terms and Submit -->
		<div class="flex items-center">
			<input
				id="terms"
				name="terms"
				type="checkbox"
				required
				class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
			/>
			<label for="terms" class="ml-2 block text-sm text-gray-700">
				I agree to the
				<a href="#" class="text-blue-600 hover:underline">Terms of Service</a>
				and
				<a href="#" class="text-blue-600 hover:underline">Privacy Policy</a>
			</label>
		</div>

		<div class="mt-6">
			<button type="submit" class="w-full btn-primary py-3 px-4">
				Create Account
			</button>
		</div>

		<div class="text-center mt-4">
			<p class="text-sm text-gray-600">
				Already have an account?
				<a
					href="{{ url_for('login') }}"
					class="font-medium text-blue-600 hover:underline"
				>
					Sign in
				</a>
			</p>
		</div>
	</form>
</div>
{% endblock %} {% block extra_js %}
<script>
	// Client-side form validation
	const form = document.querySelector("form");
	const password = document.getElementById("password");
	const confirmPassword = document.getElementById("confirm_password");

	form.addEventListener("submit", function (event) {
		if (password.value !== confirmPassword.value) {
			event.preventDefault();
			alert("Passwords do not match!");
			return false;
		}
		return true;
	});

	// Password strength indicator
	password.addEventListener("input", function () {
		const strengthMeter = document.getElementById("password-strength");
		if (!strengthMeter) return;

		const strength = calculatePasswordStrength(password.value);
		let strengthText = "";
		let strengthClass = "";

		if (strength < 2) {
			strengthText = "Weak";
			strengthClass = "text-red-500";
		} else if (strength < 4) {
			strengthText = "Moderate";
			strengthClass = "text-yellow-500";
		} else {
			strengthText = "Strong";
			strengthClass = "text-green-500";
		}

		strengthMeter.textContent = strengthText;
		strengthMeter.className = strengthClass;
	});

	function calculatePasswordStrength(password) {
		let strength = 0;
		if (password.length >= 8) strength++;
		if (password.match(/[a-z]+/)) strength++;
		if (password.match(/[A-Z]+/)) strength++;
		if (password.match(/[0-9]+/)) strength++;
		if (password.match(/[!@#$%^&*(),.?":{}|<>]+/)) strength++;
		return strength;
	}
</script>
{% endblock %}
